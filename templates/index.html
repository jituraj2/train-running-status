<!DOCTYPE html>
<html>
<head>
  <title>Train Live Status</title>
</head>
<body>
  <h2>Train Live Status Checker</h2>
  <label>Train Number:</label>
  <input type="text" id="trainNo" placeholder="e.g. 18030"><br>
  <label>Start Day:</label>
  <select id="startDay">
    <option value="1">Today</option>
    <option value="2">Tomorrow</option>
    <option value="3">Day after Tomorrow</option>
  </select><br><br>
  <button onclick="fetchLiveStatus()">Check Status</button>

  <script>
    async function fetchLiveStatus() {
        const trainNo = document.getElementById('trainNo').value;
        const startDay = document.getElementById('startDay').value;

        const response = await fetch(`/live-status?trainNo=${trainNo}&startDay=${startDay}`);
        const data = await response.json();

        if (!data.data?.success) {
            alert(data.data?.message || "Something went wrong");
        } else {
            alert("Train Name: " + data.data.train_name + "\nStatus: " + data.data.new_message);
        }
    }
  </script>
</body>
</html>
